# Deploy

### 1. **배포란?**

- **배포**란 내가 개발한 애플리케이션을 **사용자**가 사용할 수 있도록 **서버에 올려서 공개**하는 과정
- 쉽게 말해, **내 컴퓨터에서만 돌아가던 프로그램**을 **인터넷에 올려서 모두가 쓸 수 있게 만드는 것**

---

### 2. **배포 과정**

1. **코드 작성**: 애플리케이션 개발을 함.
2. **빌드**: 프로그램을 실행할 수 있는 파일로 변환을 함.
3. **서버에 업로드**: 클라우드나 물리적 서버에 파일을 올림.
4. **실행 및 공개**: 서버에서 프로그램을 실행해서 사용자가 접속할 수 있게 함.

---

### 3. **빌드란?**

- 빌드(Build)는 애플리케이션이 실행될 수 있도록 **소스 코드를 실행 가능한 파일로 변환**하는 과정임.
- 개발자는 **사람이 읽을 수 있는 코드**를 작성하지만, 이걸 **컴퓨터가 이해할 수 있는 형태**로 바꿔야 실행할 수 있음.

---

### 4. **빌드가 필요한 이유**

1. **배포를 위해**:서버에 올리려면 **실행 가능한 형태**의 파일이 필요함.
2. **코드 최적화**:빌드 과정에서 불필요한 파일을 제거하고 성능을 높임.
3. **의존성 포함**:실행에 필요한 라이브러리(의존성)를 함께 포함시켜서 **서버에서도 바로 실행 가능하게** 만듦.

---

### 5. **스프링부트에서 빌드하기**

- **Maven**이나 **Gradle** 같은 도구로 빌드를 함.

### Maven 빌드 명령어:

```bash
./mvnw package
```

### Gradle 빌드 명령어:

```bash
./gradlew build
```

- 실행 후 **`target`** 또는 **`build/libs`** 폴더에 **Jar 파일**이 생성됨.이 파일이 **서버에 올릴 실행 파일**임.

---

### 6. **서버에 업로드**

- **빌드된 Jar 파일**을 **서버에 업로드**해서 실행해야 함.주로 다음과 같은 방식으로 업로드를 함:

### 방법 1: **SSH를 통한 업로드**

1. 서버에 **SSH**로 접속:
    
    ```bash
    ssh user@your-server-ip
    ```
    
2. **SCP 명령어**를 사용해 Jar 파일을 서버로 전송:
    
    ```bash
    scp /path/to/your-app.jar user@your-server-ip:/path/to/server/directory
    ```
    

### 방법 2: **FTP 클라이언트 사용**

- **FileZilla** 같은 FTP 클라이언트를 사용해 서버에 Jar 파일을 전송함.

### 방법 3: **클라우드 플랫폼 업로드**

- AWS, Heroku, Google Cloud 같은 플랫폼의 **웹 콘솔** 또는 **CLI**를 사용해 Jar 파일을 업로드함.예:**Heroku CLI**:
    
    ```bash
    heroku deploy:jar your-app.jar
    ```
    

---

### 7. **빌드 후 실행**

1. 서버에서 **Jar 파일**을 실행:
    
    ```bash
    java -jar your-app.jar
    ```
    
2. 애플리케이션이 실행되어 **사용자들이 접속할 수 있게 됨**.

# VPC

**VPC**는 **Virtual Private Cloud**의 약자

쉽게 말해, **내가 사용할 수 있는 나만의 인터넷 공간**을 클라우드에서 만들어 주는 것

---

### 1. **VPC의 역할**

- 인터넷 위에 **내 전용 네트워크 공간**을 만들어준다.
- 다른 사람과 **분리된 안전한 공간**에서 서버를 운영할 수 있게 해준다.

---

### 2. **VPC를 왜 사용할까?**

- **보안**: 다른 사람과 네트워크를 공유하지 않기 때문에 외부에서 내 서버로 **직접 접근 불가**.
- **확장성**: 내가 원하는 대로 네트워크 구조를 설계하고, 서버를 추가할 수 있음.
- **관리 용이성**: 모든 서버를 한 곳에서 **효율적으로 관리**할 수 있음.

---

### 3. **VPC의 구성요소**

### 1) **서브넷(Subnet)**

- **서브넷**은 VPC 안에 있는 **작은 네트워크 단위**
- 예를 들어, **한 VPC** 안에 **프론트엔드 서버**와 **백엔드 서버**를 각각 다른 서브넷에 넣을 수 있다.
    - **공용 서브넷**: 인터넷에서 접근 가능한 서버(예: 웹 서버).
    - **비공용 서브넷**: 인터넷에서 접근 불가한 서버(예: 데이터베이스 서버).

### 2) **인터넷 게이트웨이(Internet Gateway)**

- **VPC와 인터넷을 연결**해주는 다리 역할을 함.
- 공용 서브넷에 있는 서버가 인터넷과 통신할 때 사용함.

### 3) **라우팅 테이블(Route Table)**

- **서버 간의 데이터가 어떻게 이동할지**를 정하는 규칙
- 예를 들어, 공용 서브넷은 인터넷 게이트웨이를 통해 나가고, 비공용 서브넷은 내부 네트워크만 사용하도록 설정 가능

### 4) **보안 그룹(Security Group)**

- 서버에 **어떤 요청**을 **허용할지/차단할지**를 결정하는 방화벽
    - "특정 IP에서만 접속 가능하게 해라" 같은 규칙을 설정

---

### 4. **VPC를 사용하는 예시**

1. **내가 만든 애플리케이션**을 클라우드에 배포
2. VPC 안에 **웹 서버**와 **데이터베이스 서버**를 각각 설정
    - **웹 서버**: 인터넷에서 접근 가능(공용 서브넷).
    - **데이터베이스 서버**: 외부 접근 차단(비공용 서브넷).
3. **보안 그룹**으로 외부에서 **웹 서버만 접속 가능**하도록 설정

---

### 5. **VPC의 장점**

- **안전**: 인터넷에 노출되지 않은 비공용 네트워크를 만들 수 있음.
- **유연성**: 내가 원하는 대로 네트워크를 설계하고 관리할 수 있음.
- **확장성**: 서버를 쉽게 추가하고, 네트워크를 확장할 수 있음.

---

### 6. **VPC를 아주 쉽게 비유**

- VPC는 **아파트 단지**라고 생각하면 된다.
    - **서브넷**: 아파트 단지 안의 **동**.
    - **인터넷 게이트웨이**: 아파트 단지와 **외부(인터넷)**를 연결하는 **정문**
    - **라우팅 테이블**: 아파트 단지 안에서 **어떤 길로 갈지** 정해주는 지도
    - **보안 그룹**: 누가 **아파트에 들어올 수 있는지** 정해주는 **경비실**

즉, VPC는 클라우드 안에 **나만의 안전한 집(네트워크)**을 만드는 것임!
